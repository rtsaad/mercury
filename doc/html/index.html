<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mercury: Description</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mercury
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">High-PerformanceModelChecker</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Description </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Mercury is a high performance Model Checker developed for multicore, multiprocessors machine with shared memory. It is a state-of-the art Model Checking playground specially developed to experiment different approaches for Parallel State Space construction (graph traversal) and Parallel Model Checking of temporal formulas.</p>
<p>Mercury has been developed to be highly modular and extensible. The software is composed of separate, interchangeable modules that accept different memory layouts (shared/local data) and synchronization mechanisms.</p>
<p>Moreover, the software view of states is abstract and can be easily extended to take into account data structures and time classes. Altogether, we experimented several versions, two for probabilistic, four for exhaustive state space construction and three for parallel model checking (subset of CTL formulas).</p>
<p>For more information, check <a href="https://rodrigotaclasaad.wordpress.com/mercury/">Mercury's homepage</a></p>
<h1>Features:</h1>
<ol type="1">
<li>Parallel State Space Exploration<ul>
<li>Reachability analysis (see <a href="https://rodrigotaclasaad.wordpress.com/2017/09/05/mixed-shared-distributed-hash-tables-approaches-for-parallel-state-space-construction/">ISPDC2011</a></li>
<li>Local Sub-CTL Model Checking (see <a href="https://rodrigotaclasaad.wordpress.com/2017/09/05/an-experiment-on-parallel-model-checking-of-a-ctl-fragment/">ATVA2012</a>)</li>
</ul>
</li>
<li>Probabilistic State Space Exploration<ul>
<li>Reachability analysis</li>
</ul>
</li>
<li>NEW: Disc based State Space Exploration (in ALFA, not stable)<ul>
<li>Currently, supports only the state space exploration (prints the number of states and transitions);</li>
<li>The state space and the exploration stacks are partitioned on the hard disk;</li>
<li>Coming soon: Reachability analysis</li>
</ul>
</li>
</ol>
<h1>Benchmark (Speedup)</h1>
<p>In Figure 1 we give the observed speedup of Mercury on a set of examples. We give the absolute speedup, measured as the ratio between the execution time using <b>n</b> processors (<b>tn</b>) and the time of an optimized, sequential version (<b>ts</b>). Mercury delivers promising speedups. The results also show different behaviors according to the model. For instance, Mercury efficiency may vary between 90% (Hanoi model) and 51% (Kanban model), whereas the system occupancy is consistently over 95%. Clearly, the algorithm depends on the ``degree of concurrency'' of the model &ndash; it is not necessary to use lots of processors for a model with few concurrent actions &ndash; but this is an inherent limitation with parallel state space construction <a href="http://www.sciencedirect.com/science/article/pii/S1571066108000704">EL08</a>, which is an irregular problem.</p>
<div class="image">
<img src="doc/images/lt_ratio_speedup.png" alt="alt text" title="Speedup analysis"/>
</div>
<p>Concerning the use of memory, we can measure the quality of the distribution of the state space using the <em>mean standard deviation</em> (<em>sigma</em>) of the number of states among the processors. In our experiments, we observe that the value of <em>sigma</em> is quite small and that it stays stable when we change the number of processors. For instance, we have <em>sigma</em> ~ 1.5% for the Hanoi model and <em>sigma</em> ~ 7% for Kanban. The difference between values of <em>sigma</em> can be explained by the difference in the <em>degree of concurrency</em>. It may also be affected by the processor's performance, that is, a processor that handles <em>simpler states</em> &mdash; states whose transition firing involves a small number of operations &mdash; may dynamically assign more states than others. Finally, our experiments are also affected by the Non-Uniform Memory Access (NUMA) architecture of our machine, where the latency and bandwidth characteristics of memory actions depend on the processor or memory region being accessed.</p>
<h1>History and Technical Details</h1>
<p>I started developing Mercury in 2009 as part of my Ph.D. thesis at LAAS (Toulouse France) under the supervision of Bernard Berthomieu and Silvano Dal Zilio. My main motivation was to implement a simple but powerful model checker engine to experiment different algorithms for Parallel Model Checking. It is implemented using the C language with Pthreads for concurrency and the Hoard Library for parallel memory allocation. It uses the work-stealing strategy for work-load and most of the data structures (hash tables, stacks, list, avl trees, etc) were specially developed for Mercury in order to obtain the best performance as possible.</p>
<h1>Contact</h1>
<pre class="fragment">Rodrigo Tacla Saad
rodrigo.tacla.saad@gmail.com 
</pre><h1>Instalation</h1>
<p>To run this project, you first need to compile the code. After the code is compiled, please, run the <b>mercury</b> binary created at the src folder.</p>
<h2>Compiling and Running</h2>
<p>The main program can be built and run by doing the following from the project top directory. </p><pre class="fragment">./configure
make
./src/mercury -h
</pre><h2>Dependencies:</h2>
<p>At the present moment, Mercury has been tested only on Debian Linux and uses the Hoard library to allocate memory. Please, download the latest Hoard library version from <a href="http://www.hoard.org/">http://www.hoard.org/</a> and set the path variable LD_PRELOAD to use Hoard instead of the system allocator.</p>
<p>You can test Mercury with one of the examples supplied at the "examples" folder. Please, be aware that some of these examples have state spaces of the order of millions states and, by consequence, it may saturate your computer's memory. Mercury was initially conceived for multiprocessors machines but nothing prevents it from being used on desktops machines.</p>
<p>Usage example: </p><pre class="fragment">setenv LD_PRELOAD /path_to_hoard/libhoard_64.so
mercury -th 2 hanoi_8.net
</pre><h1>Usage Options</h1>
<p>Mercury binary is a command-line program. A normal execution is performed by giving the optional flags followed by a valid input file. As input, it accepts only textual Petri Net models written using the .net format (the same that is used by Tina &ndash; <a href="http://homepages.laas.fr/bernard/tina/">http://homepages.laas.fr/bernard/tina/</a>). The exploration of a system will normally generates a textual output. A second group of options can be used to define some initial parameters of the algorithm. They are useful when the user can provide an approximate value for the size of the state space and/or a formula to be verified. In this page, we explain and present some usage examples of model checking using mercury. A summary of all supported options are presented below.</p>
<ul>
<li>Help option: -h<ul>
<li>Ex: mercury -h</li>
</ul>
</li>
<li>Textual options:<ul>
<li>Verbose: -v</li>
<li>Statistics: -stats</li>
<li>Ex: mercury -v -stats example.net</li>
</ul>
</li>
<li>State marking options: -b n<ul>
<li>-b 0 marking is an vector of bits (max 1 token)</li>
<li>-b 1 marking is an vector of chars (max 125 tokens) (default)</li>
<li>-b 2 marking is a linked list of integers (temporarily disabled)</li>
<li>Ex: mercury -b 1 example.net</li>
</ul>
</li>
<li>Compression options: -sc n<ul>
<li>-sc 0 no compression (default)</li>
<li>-sc 1 :Huffman</li>
<li>-sc 2 :RLE</li>
<li>Ex: mercury -sc 1 example.net</li>
</ul>
</li>
<li>Parallel options:<ul>
<li>Number of threads: -th n</li>
<li>Ex: mercury -th 16 example.net</li>
</ul>
</li>
<li>Localization Table Configurations:<ul>
<li>Common usage: mercury -Hts size example.net</li>
<li>Synchronization modes: -smode n<ul>
<li>-smode 0 ASYNCHRONOUS (Support local hash table resize)</li>
<li>-smode 1 SYNCHRONOUS (Support global resize)</li>
<li>-smode 2 MIXTE (Support global resize) (default)</li>
<li>-smode 3 STATIC</li>
</ul>
</li>
<li>Global Hash Table configuration (preferable for Mixte mode): -Hts n (default n is 22)<ul>
<li>Ex: mercury -Hts 24 example.net</li>
</ul>
</li>
<li>Localization Table Size Configuration: -bls n (size in bits)<ul>
<li>Ex: mercury -bls 22 example.net</li>
</ul>
</li>
<li>Localization Table number of keys: -blk n<ul>
<li>Ex: mercury -bls 22 -blk 8 -smode 0 example.net</li>
</ul>
</li>
</ul>
</li>
<li>Probabilistic Bloom Table: -bls bloom_table_size -aprox 0<ul>
<li>Ex: mercury -bls 24 -aprox 0 example.net</li>
</ul>
</li>
<li>Model Checking: -f "non-nested CTL formula"<ul>
<li>Ex: mercury -f "A &lt;&gt; dead" example.net</li>
</ul>
</li>
<li>Common modes:<ul>
<li>Exhaustive Reachability Analysis:<ul>
<li>Command: mercury -v -th 16 -Hts 22 -sc 1 example.net</li>
<li>Explanation: Mercury running with 16 threads (-th 16), initial global hash table set to 4 millions states (-Hts 22) and with Huffman compression enabled (-sc 1). Mercury is able to resize the local hash tables automatically If the initial hash table size is not enougth to store all states.</li>
</ul>
</li>
<li>Probabilistic Reachability Analysis:<ul>
<li>Command: mercury -v -th 16 -bls 22 -sc 1 -aprox 0 example.net</li>
<li>Explanation: Mercury running with 16 threads (-th 16), initial Bloom Table (-aprox 0) set to hold 2 millions states symbolically (-bls 22), an overflow table set for 100000 states and Huffman compression enabled (-sc 1). The flag -aprox 0 instruments Mercury to perform a probabilistic experiment with the Bloom Table data structure.</li>
</ul>
</li>
<li>Local Sub-CTL Model Checking:<ul>
<li>Command: mercury -v -th 16 -Hts 22 -sc 1 -f "A &lt;&gt; dead" example.net<ul>
<li>Explanation: Exhaustive CTL model checking of the formula "A &lt;&gt; dead".</li>
</ul>
</li>
<li>Command: mercury -v -th 16 -bls 22 -aprox 0 -f "A [] - dead" example.net<ul>
<li>Explanation: Probabilistic reachability analysis of the formula "A [] - dead".</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1>License</h1>
<p>MIT License</p>
<p>Copyright (c) 2008-2017 LAAS-CNRS / Vertics</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
